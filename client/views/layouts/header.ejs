<!DOCTYPE html>
<html lang="ru">
<head>
    <!-- Meta tags -->

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Scripts -->

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js" integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT" crossorigin="anonymous"></script>
    <!-- React -->
    <script src="https://unpkg.com/react@17/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-router-dom/umd/react-router-dom.min.js"></script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
    <!-- Local scripts -->
    <script src="/client/source/js/script_client.js"></script>

    <script type="text/babel" src="/client/components/Header.js"></script>

    <script>
        <% if(cookies.user !== undefined){ %>
        const user = <%-JSON.stringify(cookies.user)%>;
        <% } else { %>
        const user = undefined;
        <% } %>
        const active = '<%= navActive %>';
    </script>

    <script type="text/babel"> 
        ReactDOM.render(<Header active={active} userData={user}/>, document.querySelector('#header'));
    </script>

    <!-- Styles -->

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    <link rel="stylesheet" href="/client/source/css/market.io.css">
    <link rel="stylesheet" href="/client/source/css/style.css">
    <link rel="stylesheet" href="/client/source/css/header.css">

    <!-- Client data -->

    <title><%= title %></title>
    <link rel="shortcut icon" href="/client/source/icon/favicon/market.io.jpg" type="image/x-icon">

    <!-- ----------- -->
</head>
<body>
    
<header id="header">
    <!-- <div class="header-top-title"><a href="/">Market.io</a></div>
    <div class="header-hav">
        <div class="header-item index"><a href="/"><i class="icon icon-home"></i>Главная</a></div>
        <div class="header-item shop"><a href="/shop"><i class="icon icon-shop"></i>Магазин</a></div>
        <div class="header-item dropdown">
            <a class="dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                <i class="icon icon-user"></i>
                Личный кабинет
            </a>
            <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                < % if (cookies.user !== undefined) { %>
                    <li>
                        <a class="dropdown-item" href="/profile/< %= cookies.user.id %>">
                            <i class="icon icon-user-dark"></i>< %= cookies.user.user_firstname %> < %= cookies.user.user_lastname %>
                        </a>
                    </li>
                    <li><hr class="dropdown-divider"></li>
                    < % if (cookies.user.user_role == 2) { %>
                        <li><a class="dropdown-item" href="/admin"><i class="icon icon-settings"></i>Админ панель</a></li>
                    < % } %>
                    <li><a class="dropdown-item" href="/cart"><i class="icon icon-bag"></i>Корзина</a></li>
                    <li><a class="dropdown-item" href="/logout"><i class="icon icon-logout"></i>Выход</a></li>
                < % } else { %>
                <li><a class="dropdown-item" href="/login"><i class="icon icon-login"></i>Вход</a></li>
                <li><a class="dropdown-item" href="/signup"><i class="icon icon-userAdd"></i>Регистрация</a></li>
                < % } %>
            </ul>
        </div>
    </div> -->
</header>

<noscript>
    <div class="wrapper error">
        Необходимо включить исполнение скриптов JavaScript, чтобы увидеть содержимое сайта!
    </div>
</noscript>